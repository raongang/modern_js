<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <title>이벤트 전파</title>      

<script>
    
    /* 15.5 이벤트 리스너안의 this 
        - 이벤트 리스너안의 this 값은 함수를 호출할때 그 함수가 속해 있던 객체의 참조.
        
        15.5.1 이벤트 리스너 안의 this는 이벤트가 발생한 요소 객체.
        15.5.2 this가 원하는 객체를 가르키도록 설정하는 방법
           - bind메소드 이용.
           - 익명 함수 안에서 실행하는 방법
           - 화살표 함수를 사용하는 방법(ECMAScript6 추가)
           - addEventListener의 두번째 인수로 객체를 넘기는 방법.
    
    */
        
    window.onload = function(){     

        function Person(name){
            this.name = name;

        }
        
        //addEventListener의 두번째 인수로 객체를 넘기는 방법.
        //handleEvent이 있으며 메소드를 이벤트 리스너로 등록가능.
        Person.prototype.handleEvent = function(){
            console.log("Hello ! " + this.name);
        };
        
        var person = new Person("Tommy");
        var button = document.getElementById("button");
        //함수대신 객체 person을 넘김
        button.addEventListener("click",person,false);
      
        
        
        
    };//end window.onLoad
    
  
</script>  
</head>
<body>
    <button id="button">Button</button>
</body>
</html>






    